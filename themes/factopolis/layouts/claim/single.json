{{ $claimID := .File.BaseFileName }}
{
  {{ if .Params.summary }}"summary": {{ .Params.summary | jsonify }},{{ end }}
  "checks": [
    {{ range $idx, $check := .Params.checks }}
      {{ if $idx }}, {{ end }}
      {
        {{ if $check.short }}"short": {{ $check.short | jsonify }}, {{ end }}
        {{ if $check.quote }}"quote": {{ $check.quote | jsonify }}, {{ end }}
        {{ if $check.url }}"url": {{ $check.url | jsonify }}, {{ end }}
        {{ if $check.name }}
          "name": {{ $check.name | jsonify }}
        {{ else }}
          {{ range where $.Site.Pages "URL" (printf "/checker/%s/" .checker) }}
            "name": {{ .Title | jsonify }}
          {{ end }}
        {{ end }}
      }
    {{ end }}
  ],
  "claimants": [
    {{ range $idx, $person := where (where .Site.Pages "Type" "person") "Kind" "page" }}
      {{ range $currentClaim := where $person.Params.claims "id" $.Page.BaseFileName }}
        {
          "count": {{ $currentClaim.assertions | len }},
          "name": {{ $person.Title | jsonify }},
          "id" : {{ $person.BaseFileName | jsonify }}
        },
      {{ end }}
    {{ end }}
    null
  ],
  {{ partial "page.json" . }}
}
